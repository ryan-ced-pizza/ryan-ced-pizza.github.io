var he=Object.defineProperty,_e=Object.defineProperties;var xe=Object.getOwnPropertyDescriptors;var oe=Object.getOwnPropertySymbols;var pe=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable;var le=(e,a,c)=>a in e?he(e,a,{enumerable:!0,configurable:!0,writable:!0,value:c}):e[a]=c,w=(e,a)=>{for(var c in a||(a={}))pe.call(a,c)&&le(e,c,a[c]);if(oe)for(var c of oe(a))be.call(a,c)&&le(e,c,a[c]);return e},V=(e,a)=>_e(e,xe(a));import{m as Ce,l as z,n as qe,p as Se,q as Y,s as W,t as ie,u as H,v as X,w as j,x as _,y as N,z as we,A as O,B as C,T as Pe,K as $e,C as ke,E as te,F as ne,G as Ae,H as re,I as Ie,J as ae,L as ge,M as Ve,O as Be,P as Le,R as Te,S as ye,U as K,V as Me,W as Ee,X as Fe,Y as He,Z as Ne,_ as De,$ as ze,a0 as Re,a1 as Qe,o as R,a2 as G,a3 as se,a4 as ue,a5 as J,c as ce,a6 as Q,a7 as E,a8 as F,a9 as Ue,aa as Z,ab as de,ac as Ke}from"./vendor.217801de.js";import{g as ve,s as fe,c as Oe,u as Ye,a as je}from"./use-quasar.d6e3b97c.js";import{P as ee}from"./LocalStorage.0fbd7a8d.js";function We(e){const a=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((c,f)=>{const l=parseFloat(c);l&&(a[f]=l)}),a}var Xe=Ce({name:"touch-swipe",beforeMount(e,{value:a,arg:c,modifiers:f}){if(f.mouse!==!0&&z.has.touch!==!0)return;const l=f.mouseCapture===!0?"Capture":"",t={handler:a,sensitivity:We(c),direction:ve(f),noop:qe,mouseStart(r){fe(r,t)&&Se(r)&&(Y(t,"temp",[[document,"mousemove","move",`notPassive${l}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(r,!0))},touchStart(r){if(fe(r,t)){const s=r.target;Y(t,"temp",[[s,"touchmove","move","notPassiveCapture"],[s,"touchcancel","end","notPassiveCapture"],[s,"touchend","end","notPassiveCapture"]]),t.start(r)}},start(r,s){z.is.firefox===!0&&W(e,!0);const y=ie(r);t.event={x:y.left,y:y.top,time:Date.now(),mouse:s===!0,dir:!1}},move(r){if(t.event===void 0)return;if(t.event.dir!==!1){H(r);return}const s=Date.now()-t.event.time;if(s===0)return;const y=ie(r),x=y.left-t.event.x,u=Math.abs(x),v=y.top-t.event.y,n=Math.abs(v);if(t.event.mouse!==!0){if(u<t.sensitivity[1]&&n<t.sensitivity[1]){t.end(r);return}}else if(u<t.sensitivity[2]&&n<t.sensitivity[2])return;const g=u/s,b=n/s;t.direction.vertical===!0&&u<n&&u<100&&b>t.sensitivity[0]&&(t.event.dir=v<0?"up":"down"),t.direction.horizontal===!0&&u>n&&n<100&&g>t.sensitivity[0]&&(t.event.dir=x<0?"left":"right"),t.direction.up===!0&&u<n&&v<0&&u<100&&b>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&u<n&&v>0&&u<100&&b>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&u>n&&x<0&&n<100&&g>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&u>n&&x>0&&n<100&&g>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(H(r),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Oe(),t.styleCleanup=A=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const $=()=>{document.body.classList.remove("no-pointer-events--children")};A===!0?setTimeout($,50):$()}),t.handler({evt:r,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:s,distance:{x:u,y:n}})):t.end(r)},end(r){t.event!==void 0&&(X(t,"temp"),z.is.firefox===!0&&W(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),r!==void 0&&t.event.dir!==!1&&H(r),t.event=void 0)}};e.__qtouchswipe=t,f.mouse===!0&&Y(t,"main",[[e,"mousedown","mouseStart",`passive${l}`]]),z.has.touch===!0&&Y(t,"main",[[e,"touchstart","touchStart",`passive${f.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,a){const c=e.__qtouchswipe;c!==void 0&&(a.oldValue!==a.value&&(typeof a.value!="function"&&c.end(),c.handler=a.value),c.direction=ve(a.modifiers))},beforeUnmount(e){const a=e.__qtouchswipe;a!==void 0&&(X(a,"main"),X(a,"temp"),z.is.firefox===!0&&W(e,!1),a.styleCleanup!==void 0&&a.styleCleanup(),delete e.__qtouchswipe)}});const Ge={name:{required:!0},disable:Boolean},me={setup(e,{slots:a}){return()=>C("div",{class:"q-panel scroll",role:"tabpanel"},te(a.default))}},Je={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Ze=["update:modelValue","before-transition","transition"];function et(){const{props:e,emit:a,proxy:c}=O(),{getCacheWithFn:f}=Ye();let l,t;const r=j(null),s=j(null);function y(o){const h=e.vertical===!0?"up":"left";i((c.$q.lang.rtl===!0?-1:1)*(o.direction===h?1:-1))}const x=_(()=>[[Xe,y,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),u=_(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),v=_(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),n=_(()=>`--q-transition-duration: ${e.transitionDuration}ms`),g=_(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),b=_(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),A=_(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);N(()=>e.modelValue,(o,h)=>{const k=m(o)===!0?d(o):-1;t!==!0&&P(k===-1?0:k<d(h)?-1:1),r.value!==k&&(r.value=k,a("before-transition",o,h),we(()=>{a("transition",o,h)}))});function $(){i(1)}function M(){i(-1)}Object.assign(c,{next:$,previous:M,goTo:L});function L(o){a("update:modelValue",o)}function m(o){return o!=null&&o!==""}function d(o){return l.findIndex(h=>h.props.name===o&&h.props.disable!==""&&h.props.disable!==!0)}function S(){return l.filter(o=>o.props.disable!==""&&o.props.disable!==!0)}function P(o){const h=o!==0&&e.animated===!0&&r.value!==-1?"q-transition--"+(o===-1?u.value:v.value):null;s.value!==h&&(s.value=h)}function i(o,h=r.value){let k=h+o;for(;k>-1&&k<l.length;){const T=l[k];if(T!==void 0&&T.props.disable!==""&&T.props.disable!==!0){P(o),t=!0,a("update:modelValue",T.props.name),setTimeout(()=>{t=!1});return}k+=o}e.infinite===!0&&l.length>0&&h!==-1&&h!==l.length&&i(o,o===-1?l.length:-1)}function q(){const o=d(e.modelValue);return r.value!==o&&(r.value=o),!0}function B(){const o=m(e.modelValue)===!0&&q()&&l[r.value];return e.keepAlive===!0?[C($e,b.value,[C(A.value===!0?f(g.value,()=>V(w({},me),{name:g.value})):me,{key:g.value,style:n.value},()=>o)])]:[C("div",{class:"q-panel scroll",style:n.value,key:g.value,role:"tabpanel"},[o])]}function p(){if(l.length!==0)return e.animated===!0?[C(Pe,{name:s.value},B)]:B()}function I(o){return l=ke(te(o.default,[])).filter(h=>h.props!==null&&h.props.slot===void 0&&m(h.props.name)===!0),l.length}function D(){return l}return{panelIndex:r,panelDirectives:x,updatePanelsList:I,updatePanelIndex:q,getPanelContent:p,getEnabledPanels:S,getPanels:D,isValidPanelName:m,keepAliveProps:b,needsUniqueKeepAliveWrapper:A,goToPanelByOffset:i,goToPanel:L,nextPanel:$,previousPanel:M}}var tt=ne({name:"QCarouselSlide",props:V(w({},Ge),{imgSrc:String}),setup(e,{slots:a}){const c=_(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>C("div",{class:"q-carousel__slide",style:c.value},te(a.default))}});let U=0;const nt={fullscreen:Boolean,noRouteFullscreenExit:Boolean},at=["update:fullscreen","fullscreen"];function ot(){const e=O(),{props:a,emit:c,proxy:f}=e;let l,t,r;const s=j(!1);Ae(e)===!0&&N(()=>f.$route.fullPath,()=>{a.noRouteFullscreenExit!==!0&&u()}),N(()=>a.fullscreen,v=>{s.value!==v&&y()}),N(s,v=>{c("update:fullscreen",v),c("fullscreen",v)});function y(){s.value===!0?u():x()}function x(){s.value!==!0&&(s.value=!0,r=f.$el.parentNode,r.replaceChild(t,f.$el),document.body.appendChild(f.$el),U++,U===1&&document.body.classList.add("q-body--fullscreen-mixin"),l={handler:u},re.add(l))}function u(){s.value===!0&&(l!==void 0&&(re.remove(l),l=void 0),r.replaceChild(f.$el,t),s.value=!1,U=Math.max(0,U-1),U===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),f.$el.scrollIntoView!==void 0&&setTimeout(()=>{f.$el.scrollIntoView()})))}return Ie(()=>{t=document.createElement("span")}),ae(()=>{a.fullscreen===!0&&x()}),ge(u),Object.assign(f,{toggleFullscreen:y,setFullscreen:x,exitFullscreen:u}),{inFullscreen:s,toggleFullscreen:y}}const lt=["top","right","bottom","left"],it=["regular","flat","outline","push","unelevated"];var rt=ne({name:"QCarousel",props:V(w(w(w({},Ve),Je),nt),{transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>it.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>lt.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean}),emits:[...at,...Ze],setup(e,{slots:a}){const{proxy:{$q:c}}=O(),f=Be(e,c);let l,t;const{updatePanelsList:r,getPanelContent:s,panelDirectives:y,goToPanel:x,previousPanel:u,nextPanel:v,getEnabledPanels:n,panelIndex:g}=et(),{inFullscreen:b}=ot(),A=_(()=>b.value!==!0&&e.height!==void 0?{height:e.height}:{}),$=_(()=>e.vertical===!0?"vertical":"horizontal"),M=_(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(b.value===!0?" fullscreen":"")+(f.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${$.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${S.value}`:"")),L=_(()=>{const p=[e.prevIcon||c.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||c.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&c.lang.rtl===!0?p.reverse():p}),m=_(()=>e.navigationIcon||c.iconSet.carousel.navigationIcon),d=_(()=>e.navigationActiveIcon||m.value),S=_(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),P=_(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));N(()=>e.modelValue,()=>{e.autoplay&&(clearInterval(l),i())}),N(()=>e.autoplay,p=>{p?i():clearInterval(l)});function i(){const p=Le(e.autoplay)===!0?e.autoplay:5e3;l=setTimeout(p>=0?v:u,Math.abs(p))}ae(()=>{e.autoplay&&i()}),ge(()=>{clearInterval(l)});function q(p,I){return C("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${p} q-carousel__navigation--${S.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[C("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},n().map(I))])}function B(){const p=[];if(e.navigation===!0){const I=a["navigation-icon"]!==void 0?a["navigation-icon"]:o=>C(K,V(w({key:"nav"+o.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${o.active===!0?"":"in"}active`},o.btnProps),{onClick:o.onClick})),D=t-1;p.push(q("buttons",(o,h)=>{const k=o.props.name,T=g.value===h;return I({index:h,maxIndex:D,name:k,active:T,btnProps:w({icon:T===!0?d.value:m.value,size:"sm"},P.value),onClick:()=>{x(k)}})}))}else if(e.thumbnails===!0){const I=e.controlColor!==void 0?` text-${e.controlColor}`:"";p.push(q("thumbnails",D=>{const o=D.props;return C("img",{key:"tmb#"+o.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${o.name===e.modelValue?"":"in"}active`+I,src:o.imgSrc||o["img-src"],onClick:()=>{x(o.name)}})}))}return e.arrows===!0&&g.value>=0&&((e.infinite===!0||g.value>0)&&p.push(C("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${$.value} absolute flex flex-center`},[C(K,V(w({icon:L.value[0]},P.value),{onClick:u}))])),(e.infinite===!0||g.value<t-1)&&p.push(C("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${$.value} absolute flex flex-center`},[C(K,V(w({icon:L.value[1]},P.value),{onClick:v}))]))),ye(a.control,p)}return()=>(t=r(a),C("div",{class:M.value,style:A.value},[Te("div",{class:"q-carousel__slides-container"},s(),"sl-cont",e.swipeable,()=>y.value)].concat(B())))}}),st=ne({name:"QRating",props:V(w(w({},Me),Ee),{modelValue:{type:Number,required:!0},max:{type:[String,Number],default:5},icon:[String,Array],iconHalf:[String,Array],iconSelected:[String,Array],color:[String,Array],colorHalf:[String,Array],colorSelected:[String,Array],noReset:Boolean,noDimming:Boolean,readonly:Boolean,disable:Boolean}),emits:["update:modelValue"],setup(e,{slots:a,emit:c}){const{proxy:{$q:f}}=O(),l=Fe(e),t=He(e),r=ze(t),s=j(0);let y={};const x=_(()=>e.readonly!==!0&&e.disable!==!0),u=_(()=>`q-rating row inline items-center q-rating--${x.value===!0?"":"non-"}editable`+(e.noDimming===!0?" q-rating--no-dimming":"")+(e.disable===!0?" disabled":"")+(e.color!==void 0&&Array.isArray(e.color)===!1?` text-${e.color}`:"")),v=_(()=>{const m=Array.isArray(e.icon)===!0?e.icon.length:0,d=Array.isArray(e.iconSelected)===!0?e.iconSelected.length:0,S=Array.isArray(e.iconHalf)===!0?e.iconHalf.length:0,P=Array.isArray(e.color)===!0?e.color.length:0,i=Array.isArray(e.colorSelected)===!0?e.colorSelected.length:0,q=Array.isArray(e.colorHalf)===!0?e.colorHalf.length:0;return{iconLen:m,icon:m>0?e.icon[m-1]:e.icon,selIconLen:d,selIcon:d>0?e.iconSelected[d-1]:e.iconSelected,halfIconLen:S,halfIcon:S>0?e.iconHalf[d-1]:e.iconHalf,colorLen:P,color:P>0?e.color[P-1]:e.color,selColorLen:i,selColor:i>0?e.colorSelected[i-1]:e.colorSelected,halfColorLen:q,halfColor:q>0?e.colorHalf[q-1]:e.colorHalf}}),n=_(()=>{const m=[],d=v.value,S=Math.ceil(e.modelValue),P=e.iconHalf===void 0||S===e.modelValue?-1:S;for(let i=1;i<=e.max;i++){const q=s.value===0&&e.modelValue>=i||s.value>0&&s.value>=i,B=P===i&&s.value<i,p=s.value>0&&(B===!0?S:e.modelValue)>=i&&s.value<i,I=B===!0?i<=d.halfColorLen?e.colorHalf[i-1]:d.halfColor:d.selColor!==void 0&&q===!0?i<=d.selColorLen?e.colorSelected[i-1]:d.selColor:i<=d.colorLen?e.color[i-1]:d.color;m.push({name:(B===!0?i<=d.halfIconLen?e.iconHalf[i-1]:d.halfIcon:d.selIcon!==void 0&&(q===!0||p===!0)?i<=d.selIconLen?e.iconSelected[i-1]:d.selIcon:i<=d.iconLen?e.icon[i-1]:d.icon)||f.iconSet.rating.icon,classes:"q-rating__icon"+(q===!0||B===!0?" q-rating__icon--active":"")+(p===!0?" q-rating__icon--exselected":"")+(s.value===i?" q-rating__icon--hovered":"")+(I!==void 0?` text-${I}`:"")})}return m}),g=_(()=>{if(e.disable===!0)return{"aria-disabled":"true"};if(e.readonly===!0)return{"aria-readonly":"true"}}),b=_(()=>x.value===!0?0:null);function A(m){if(x.value===!0){const d=Re(parseInt(m,10),1,parseInt(e.max,10)),S=e.noReset!==!0&&e.modelValue===d?0:d;S!==e.modelValue&&c("update:modelValue",S),s.value=0}}function $(m){x.value===!0&&(s.value=m)}function M(m,d){switch(m.keyCode){case 13:case 32:return A(d),H(m);case 37:case 40:return y[`rt${d-1}`]&&y[`rt${d-1}`].$el.focus(),H(m);case 39:case 38:return y[`rt${d+1}`]&&y[`rt${d+1}`].$el.focus(),H(m)}}function L(){s.value=0}return Ne(()=>{y={}}),()=>{const m=[];return n.value.forEach(({classes:d,name:S},P)=>{const i=P+1;m.push(C("div",{key:i,ref:q=>{y[`rt${i}`]=q},class:"q-rating__icon-container flex flex-center",tabindex:b.value,onClick(){A(i)},onMouseover(){$(i)},onMouseout:L,onFocus(){$(i)},onBlur:L,onKeyup(q){M(q,i)}},ye(a[`tip-${i}`],[C(De,{class:d,name:S})])))}),e.name!==void 0&&e.disable!==!0&&r(m,"push"),C("div",w({class:u.value,style:l.value},g.value),m)}}});const ut={class:"q-pa-md row justify-center q-gutter-md"},ct={class:"absolute-bottom custom-caption row"},dt={class:"text-h6 ellipsis"},vt={class:"row no-wrap items-center"},ft={class:"col text-h6"},mt={class:"col-auto text-grey text-caption q-pt-md row no-wrap items-center"},gt={class:"text-caption text-grey-8 ellipsis"},pt={setup(e){const a=je(),c=O(),{$api:f,$global:l,$qs:t,$chupipay:r}=c.appContext.config.globalProperties,s=Qe();window.setUser=({user:u,jwt:v})=>{console.log("called",{user:u,jwt:v}),f.defaults.headers.common.Authorization="Bearer "+v,l.user=u,l.jwt=v,ee.set("jwtt",v),ee.set("userr",u)},ae(async()=>{console.log("mounted");const u={populate:["images"]},{data:{data:v}}=await f.get("/items?"+t.stringify(u));if(console.log(v),l.items=v.map(n=>V(w({},n.attributes),{id:n.id,imgModel:`${n.id}-${n.attributes.images.data[0].id}`,images:n.attributes.images.data.map(g=>w({id:g.id},g.attributes))})),console.log("items",l.items),s.query.id_token){console.log(s.query.id_token),delete f.defaults.headers.common.Authorization;const{data:n}=await f.get("/auth/google/callback?"+t.stringify(s.query));window.opener?(console.log("window.opener",n),window.opener.setUser(n),setTimeout(()=>{window.close()},5e3)):window.setUser(n)}});function y(u){const v=l.cart.findIndex(g=>g.id===u.id);let n="";return v<0?(l.cart.push(V(w({},u),{quantity:1})),a.notify({message:n=`${u.name} was added`,color:"purple"})):l.cart[v].quantity<l.cart[v].orderLimit?(l.cart[v].quantity++,a.notify({message:n=`${u.name} was added`,color:"purple"})):a.notify({message:n=`${u.name} quantity limit reached`,color:"negative"}),ee.set("cartt",l.cart),n}const x=[{indexes:["add *","i want *","more *"],smart:!0,action:function(u,v){console.log("wildcard",v);const n=l.items.filter(g=>g.name.toLowerCase()===v.replaceAll(".",""))[0];n&&r.say(y(n))}}];return r.addCommands(x),(u,v)=>(R(),G("div",ut,[(R(!0),G(se,null,ue(J(l).items,(n,g)=>(R(),ce(Ke,{class:"my-card",key:"item"+n.id},{default:Q(()=>[E(rt,{arrows:"",animated:"",infinite:"",swipeable:"",modelValue:n.imgModel,"onUpdate:modelValue":b=>n.imgModel=b,autoplay:6e3+g*1500,height:"180px"},{default:Q(()=>[(R(!0),G(se,null,ue(n.images,b=>(R(),ce(tt,{key:`${n.id}-${b.id}`,name:`${n.id}-${b.id}`,"img-src":J(f).defaults.baseURL.replace("/api","")+b.url,loading:"lazy"},{default:Q(()=>[F("div",ct,[F("div",dt,[E(K,{icon:"volume_up",flat:"",round:"",loading:n.loading,onClick:A=>{n.loading=!0,J(r).say(`${n.name}'. '${n.description}`,{onEnd(){n.loading=!1}})}},null,8,["loading","onClick"]),Ue(" "+Z(n.name),1)])])]),_:2},1032,["name","img-src"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","autoplay"]),E(de,null,{default:Q(()=>[E(K,{fab:"",color:"deep-orange-9",icon:"add_shopping_cart",class:"absolute",style:{top:"0",right:"12px",transform:"translateY(-50%)"},onClick:b=>y(n)},null,8,["onClick"]),F("div",vt,[F("div",ft,[E(st,{modelValue:+n.rating,max:5,size:"26px"},null,8,["modelValue"])]),F("div",mt,Z((+n.price).toLocaleString("en-PH",{style:"currency",currency:"PHP"})),1)])]),_:2},1024),E(de,{class:"q-pt-none"},{default:Q(()=>[F("div",gt,Z(n.description),1)]),_:2},1024)]),_:2},1024))),128))]))}};export{pt as default};
