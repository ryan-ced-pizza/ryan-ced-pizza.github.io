var yl=Object.defineProperty,wl=Object.defineProperties;var _l=Object.getOwnPropertyDescriptors;var Qt=Object.getOwnPropertySymbols;var Cl=Object.prototype.hasOwnProperty,ql=Object.prototype.propertyIsEnumerable;var jt=(e,l,a)=>l in e?yl(e,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[l]=a,V=(e,l)=>{for(var a in l||(l={}))Cl.call(l,a)&&jt(e,a,l[a]);if(Qt)for(var a of Qt(l))ql.call(l,a)&&jt(e,a,l[a]);return e},ee=(e,l)=>wl(e,_l(l));import{r as pl,o as ft,$ as gt,a4 as B,a3 as E,a8 as Ut,a5 as me,X as et,a6 as Re,a7 as Ze,a9 as kl,F as Ae,h as r,E as Tt,aO as xl,B as Be,G as zt,H as At,y as c,n as ol,x as Q,z as ne,A as Ve,aW as Pl,ae as ul,aX as Vl,aY as Rl,L as _t,aI as Bl,at as Kt,J as Lt,O as Ct,aZ as Et,a_ as il,a$ as rl,b0 as sl,S as Ol,b1 as Fl,b2 as Wt,b3 as st,W as Tl,b4 as Ml,ag as cl,ah as Bt,b5 as zl,ai as Ge,b6 as Xt,as as Al,b7 as Ll,v as Je,R as El,U as Il,I as Mt,k as Yt,b8 as $l,b9 as Dl,ba as ct,bb as Ot,P as vt,al as Hl,aa as Nl,aR as Ql,aQ as jl,bc as Ul,a0 as Kl,a1 as Wl,aq as Xl,a2 as Yl,bd as Gl,be as Jl}from"./vendor.9a46ac8d.js";import{f as mt,g as qe,h as ze,e as dl,Q as Zl,i as ea,m as ta,b as la,j as aa,c as Gt,d as Jt,l as na,k as oa}from"./QLayout.02e1ba06.js";import{_ as ua}from"./index.e49b30d0.js";import{u as ia,a as ra,b as sa}from"./use-fullscreen.16934a44.js";import"./selection.524b1c62.js";const ca={},da={class:"q-mt-sm"},va=Re(" Dashboard "),fa={class:"col-12 q-mb-md"},ga=Re("Today"),ma={class:"col-12 q-mb-md"},ba=me("div",{class:"text-h6"},"By Day",-1),Sa={class:"col-12 q-mb-md"},ha=me("div",{class:"text-h6"},"By Month",-1);function ya(e,l){const a=pl("line-chart");return ft(),gt("div",da,[B(kl,null,{default:E(()=>[B(Ut,{class:"text-h5"},{default:E(()=>[va]),_:1}),B(Ut,{class:"row"},{default:E(()=>[me("div",fa,[B(mt,null,{default:E(()=>[B(qe,{avatar:""},{default:E(()=>[B(et,{name:"fas fa-calendar-day",color:"primary",size:"44px"})]),_:1}),B(qe,null,{default:E(()=>[B(ze,{class:"text-h6"},{default:E(()=>[ga]),_:1}),B(ze,null,{default:E(()=>[Re(Ze(e.$global.sales.today),1)]),_:1})]),_:1})]),_:1})]),me("div",ma,[B(mt,null,{default:E(()=>[B(qe,{avatar:""},{default:E(()=>[B(et,{color:"primary",name:"fas fa-chart-column",size:"44px"})]),_:1}),B(qe,null,{default:E(()=>[ba]),_:1})]),_:1}),me("div",null,[B(a,{height:"230px",data:e.$global.sales.byDay},null,8,["data"])])]),me("div",Sa,[B(mt,null,{default:E(()=>[B(qe,{avatar:""},{default:E(()=>[B(et,{color:"primary",name:"fas fa-chart-line",size:"44px"})]),_:1}),B(qe,null,{default:E(()=>[ha]),_:1})]),_:1}),me("div",null,[B(a,{height:"230px",data:e.$global.sales.byMonth},null,8,["data"])])])]),_:1})]),_:1})])}var wa=ua(ca,[["render",ya]]),_a=Ae({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:l,emit:a}){const f=Be(),{proxy:{$q:i}}=f;return()=>{if(e.props===void 0)return r("th",{class:e.autoWidth===!0?"q-table--col-auto-width":""},Tt(l.default));let o,g;const v=f.vnode.key;if(v){if(o=e.props.colsMap[v],o===void 0)return}else o=e.props.col;if(o.sortable===!0){const C=o.align==="right"?"unshift":"push";g=xl(l.default,[]),g[C](r(et,{class:o.__iconClass,name:i.iconSet.table.arrowUp}))}else g=Tt(l.default);const s={class:o.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:o.headerStyle,onClick:C=>{o.sortable===!0&&e.props.sort(o),a("click",C)}};return r("th",s,g)}}});const Ca=["horizontal","vertical","cell","none"];var qa=Ae({name:"QMarkupTable",props:ee(V({},zt),{dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>Ca.includes(e)}}),setup(e,{slots:l}){const a=Be(),f=At(e,a.proxy.$q),i=c(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(f.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>r("div",{class:i.value},[r("table",{class:"q-table"},Tt(l.default))])}});function vl(e,l){return r("div",e,[r("table",{class:"q-table"},l)])}let wt=!1;{const e=document.createElement("div"),l=document.createElement("div");e.setAttribute("dir","rtl"),e.style.width="1px",e.style.height="1px",e.style.overflow="auto",l.style.width="1000px",l.style.height="1px",document.body.appendChild(e),e.appendChild(l),e.scrollLeft=-1e3,wt=e.scrollLeft>=0,e.remove()}const Se=1e3,pa=["start","center","end","start-force","center-force","end-force"];let ka=1;const xa=Array.prototype.filter,Zt=window.getComputedStyle(document.body).overflowAnchor===void 0?ol:function(e,l){const a=e+"_ss";let f=document.getElementById(a);f===null&&(f=document.createElement("style"),f.type="text/css",f.id=a,document.head.appendChild(f)),f.qChildIndex!==l&&(f.qChildIndex=l,f.innerHTML=`#${e} > *:nth-child(${l}) { overflow-anchor: auto }`)};function tt(e,l){return e+l}function Ft(e,l,a,f,i,o,g,v){const s=e===window?document.scrollingElement||document.documentElement:e,C=i===!0?"offsetWidth":"offsetHeight",u={scrollStart:0,scrollViewSize:-g-v,scrollMaxSize:0,offsetStart:-g,offsetEnd:-v};if(i===!0?(e===window?(u.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,u.scrollViewSize+=document.documentElement.clientWidth):(u.scrollStart=s.scrollLeft,u.scrollViewSize+=s.clientWidth),u.scrollMaxSize=s.scrollWidth,o===!0&&(u.scrollStart=(wt===!0?u.scrollMaxSize-u.scrollViewSize:0)-u.scrollStart)):(e===window?(u.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,u.scrollViewSize+=document.documentElement.clientHeight):(u.scrollStart=s.scrollTop,u.scrollViewSize+=s.clientHeight),u.scrollMaxSize=s.scrollHeight),a!==null)for(let b=a.previousElementSibling;b!==null;b=b.previousElementSibling)b.classList.contains("q-virtual-scroll--skip")===!1&&(u.offsetStart+=b[C]);if(f!==null)for(let b=f.nextElementSibling;b!==null;b=b.nextElementSibling)b.classList.contains("q-virtual-scroll--skip")===!1&&(u.offsetEnd+=b[C]);if(l!==e){const b=s.getBoundingClientRect(),P=l.getBoundingClientRect();i===!0?(u.offsetStart+=P.left-b.left,u.offsetEnd-=P.width):(u.offsetStart+=P.top-b.top,u.offsetEnd-=P.height),e!==window&&(u.offsetStart+=u.scrollStart),u.offsetEnd+=u.scrollMaxSize-u.offsetStart}return u}function el(e,l,a,f){l==="end"&&(l=(e===window?document.body:e)[a===!0?"scrollWidth":"scrollHeight"]),e===window?a===!0?(f===!0&&(l=(wt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):a===!0?(f===!0&&(l=(wt===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function dt(e,l,a,f){if(a>=f)return 0;const i=l.length,o=Math.floor(a/Se),g=Math.floor((f-1)/Se)+1;let v=e.slice(o,g).reduce(tt,0);return a%Se!==0&&(v-=l.slice(o*Se,a).reduce(tt,0)),f%Se!==0&&f!==i&&(v-=l.slice(f,g*Se).reduce(tt,0)),v}const fl={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},gl=Object.keys(fl),ml=V({virtualScrollHorizontal:Boolean,onVirtualScroll:Function},fl);function bl({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:a,virtualScrollItemSizeComputed:f}){const i=Be(),{props:o,emit:g,proxy:v}=i,{$q:s}=v;let C,u,b,P=[],w;const $="qvs_"+ka++,_=Q(0),R=Q(0),D=Q({}),q=Q(null),F=Q(null),H=Q(null),d=Q({from:0,to:0}),j=c(()=>o.tableColspan!==void 0?o.tableColspan:100);f===void 0&&(f=c(()=>o.virtualScrollItemSize));const se=c(()=>f.value+";"+o.virtualScrollHorizontal),ve=c(()=>se.value+";"+o.virtualScrollSliceRatioBefore+";"+o.virtualScrollSliceRatioAfter);ne(ve,()=>{ce()}),ne(se,fe);function fe(){ke(u,!0)}function re(k){ke(k===void 0?u:k)}function te(k,x){const z=l();if(z==null||z.nodeType===8)return;const W=Ft(z,a(),q.value,F.value,o.virtualScrollHorizontal,s.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd);b!==W.scrollViewSize&&ce(W.scrollViewSize),pe(z,W,Math.min(e.value-1,Math.max(0,parseInt(k,10)||0)),0,pa.indexOf(x)>-1?x:u>-1&&k>u?"end":"start")}function lt(){const k=l();if(k==null||k.nodeType===8)return;const x=Ft(k,a(),q.value,F.value,o.virtualScrollHorizontal,s.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd),z=e.value-1,W=x.scrollMaxSize-x.offsetStart-x.offsetEnd-R.value;if(C===x.scrollStart)return;if(x.scrollMaxSize<=0){pe(k,x,0,0);return}b!==x.scrollViewSize&&ce(x.scrollViewSize),Oe(d.value.from);const G=Math.floor(x.scrollMaxSize-Math.max(x.scrollViewSize,x.offsetEnd)-Math.min(w[z],x.scrollViewSize/2));if(G>0&&Math.ceil(x.scrollStart)>=G){pe(k,x,z,x.scrollMaxSize-x.offsetEnd-P.reduce(tt,0));return}let M=0,A=x.scrollStart-x.offsetStart,J=A;if(A<=W&&A+x.scrollViewSize>=_.value)A-=_.value,M=d.value.from,J=A;else for(let L=0;A>=P[L]&&M<z;L++)A-=P[L],M+=Se;for(;A>0&&M<z;)A-=w[M],A>-x.scrollViewSize?(M++,J=A):J=w[M]+A;pe(k,x,M,J)}function pe(k,x,z,W,G){const M=typeof G=="string"&&G.indexOf("-force")>-1,A=M===!0?G.replace("-force",""):G,J=A!==void 0?A:"start";let L=Math.max(0,z-D.value[J]),le=L+D.value.total;le>e.value&&(le=e.value,L=Math.max(0,le-D.value.total)),C=x.scrollStart;const xe=L!==d.value.from||le!==d.value.to;if(xe===!1&&A===void 0){he(z);return}const{activeElement:ye}=document,de=H.value;xe===!0&&de!==null&&de!==ye&&de.contains(ye)===!0&&(de.addEventListener("focusout",Le),setTimeout(()=>{de!==void 0&&de.removeEventListener("focusout",Le)})),Zt($,z-L+1);const Ee=A!==void 0?w.slice(L,z).reduce(tt,0):0;if(xe===!0){const we=le>=d.value.from&&L<=d.value.to?d.value.to:le;d.value={from:L,to:we},_.value=dt(P,w,0,L),R.value=dt(P,w,le,e.value),requestAnimationFrame(()=>{d.value.to!==le&&C===x.scrollStart&&(d.value={from:d.value.from,to:le},R.value=dt(P,w,le,e.value))})}requestAnimationFrame(()=>{if(C!==x.scrollStart)return;xe===!0&&Oe(L);const we=w.slice(L,z).reduce(tt,0),_e=we+x.offsetStart+_.value,He=_e+w[z];let oe=_e+W;if(A!==void 0){const ae=we-Ee,ge=x.scrollStart+ae;oe=M!==!0&&ge<_e&&He<ge+x.scrollViewSize?ge:A==="end"?He-x.scrollViewSize:_e-(A==="start"?0:Math.round((x.scrollViewSize-w[z])/2))}C=oe,el(k,oe,o.virtualScrollHorizontal,s.lang.rtl),he(z)})}function Oe(k){const x=H.value;if(x){const z=xa.call(x.children,L=>L.classList&&L.classList.contains("q-virtual-scroll--skip")===!1),W=z.length,G=o.virtualScrollHorizontal===!0?L=>L.getBoundingClientRect().width:L=>L.offsetHeight;let M=k,A,J;for(let L=0;L<W;){for(A=G(z[L]),L++;L<W&&z[L].classList.contains("q-virtual-scroll--with-prev")===!0;)A+=G(z[L]),L++;J=A-w[M],J!==0&&(w[M]+=J,P[Math.floor(M/Se)]+=J),M++}}}function Le(){H.value!==void 0&&H.value.focus()}function ke(k,x){const z=1*f.value;(x===!0||Array.isArray(w)===!1)&&(w=[]);const W=w.length;w.length=e.value;for(let M=e.value-1;M>=W;M--)w[M]=z;const G=Math.floor((e.value-1)/Se);P=[];for(let M=0;M<=G;M++){let A=0;const J=Math.min((M+1)*Se,e.value);for(let L=M*Se;L<J;L++)A+=w[L];P.push(A)}u=-1,C=void 0,_.value=dt(P,w,0,d.value.from),R.value=dt(P,w,d.value.to,e.value),k>=0?(Oe(d.value.from),Ve(()=>{te(k)})):y()}function ce(k){if(k===void 0&&typeof window!="undefined"){const A=l();A!=null&&A.nodeType!==8&&(k=Ft(A,a(),q.value,F.value,o.virtualScrollHorizontal,s.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd).scrollViewSize)}b=k;const x=parseFloat(o.virtualScrollSliceRatioBefore)||0,z=parseFloat(o.virtualScrollSliceRatioAfter)||0,W=1+x+z,G=k===void 0||k<=0?1:Math.ceil(k/f.value),M=Math.max(1,G,Math.ceil((o.virtualScrollSliceSize>0?o.virtualScrollSliceSize:10)/W));D.value={total:Math.ceil(M*W),start:Math.ceil(M*x),center:Math.ceil(M*(.5+x)),end:Math.ceil(M*(1+x)),view:G}}function De(k,x){const z=o.virtualScrollHorizontal===!0?"width":"height",W={["--q-virtual-scroll-item-"+z]:f.value+"px"};return[k==="tbody"?r(k,{class:"q-virtual-scroll__padding",key:"before",ref:q},[r("tr",[r("td",{style:V({[z]:`${_.value}px`},W),colspan:j.value})])]):r(k,{class:"q-virtual-scroll__padding",key:"before",ref:q,style:V({[z]:`${_.value}px`},W)}),r(k,{class:"q-virtual-scroll__content",key:"content",ref:H,id:$,tabindex:-1},x.flat()),k==="tbody"?r(k,{class:"q-virtual-scroll__padding",key:"after",ref:F},[r("tr",[r("td",{style:V({[z]:`${R.value}px`},W),colspan:j.value})])]):r(k,{class:"q-virtual-scroll__padding",key:"after",ref:F,style:V({[z]:`${R.value}px`},W)})]}function he(k){u!==k&&(o.onVirtualScroll!==void 0&&g("virtual-scroll",{index:k,from:d.value.from,to:d.value.to-1,direction:k<u?"decrease":"increase",ref:v}),u=k)}ce();const y=Pl(lt,s.platform.is.ios===!0?120:35);ul(()=>{ce()});let N=!1;return Vl(()=>{N=!0}),Rl(()=>{if(N!==!0)return;const k=l();C!==void 0&&k!==void 0&&k!==null&&k.nodeType!==8?el(k,C,o.virtualScrollHorizontal,s.lang.rtl):te(u)}),Zt!==ol&&_t(()=>{const k=document.getElementById($+"_ss");k!==null&&k.remove(),y.cancel()}),Object.assign(v,{scrollTo:te,reset:fe,refresh:re}),{virtualScrollSliceRange:d,virtualScrollSliceSizeComputed:D,setVirtualScrollSize:ce,onVirtualScrollEvt:y,localResetVirtualScroll:ke,padVirtualScroll:De,scrollTo:te,reset:fe,refresh:re}}const Pa={list:dl,table:qa},Va=["list","table","__qtable"];var Ra=Ae({name:"QVirtualScroll",props:ee(V({},ml),{type:{type:String,default:"list",validator:e=>Va.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}}),setup(e,{slots:l,attrs:a}){let f;const i=Q(null),o=c(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:g,localResetVirtualScroll:v,padVirtualScroll:s,onVirtualScrollEvt:C}=bl({virtualScrollLength:o,getVirtualScrollTarget:$,getVirtualScrollEl:w}),u=c(()=>{if(o.value===0)return[];const q=(F,H)=>({index:g.value.from+H,item:F});return e.itemsFn===void 0?e.items.slice(g.value.from,g.value.to).map(q):e.itemsFn(g.value.from,g.value.to-g.value.from).map(q)}),b=c(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),P=c(()=>e.scrollTarget!==void 0?{}:{tabindex:0});ne(o,()=>{v()}),ne(()=>e.scrollTarget,()=>{R(),_()});function w(){return i.value.$el||i.value}function $(){return f}function _(){f=Bl(w(),e.scrollTarget),f.addEventListener("scroll",C,Kt.passive)}function R(){f!==void 0&&(f.removeEventListener("scroll",C,Kt.passive),f=void 0)}function D(){let q=s(e.type==="list"?"div":"tbody",u.value.map(l.default));return l.before!==void 0&&(q=l.before().concat(q)),Ct(l.after,q)}return ul(()=>{v()}),Lt(()=>{_()}),_t(()=>{R()}),()=>{if(l.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?vl({ref:i,class:"q-table__middle "+b.value},D()):r(Pa[e.type],V(ee(V({},a),{ref:i,class:[a.class,b.value]}),P.value),D)}}}),Ba=Ae({name:"QField",inheritAttrs:!1,props:Et,emits:il,setup(){return rl(sl())}});const tl=e=>["add","add-unique","toggle"].includes(e),Oa=".*+?^${}()|[]\\",Fa=Object.keys(Et);var Sl=Ae({name:"QSelect",inheritAttrs:!1,props:ee(V(V(V({},ml),Ol),Et),{modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:tl},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function}),emits:[...il,"add","remove","input-value","keyup","keypress","keydown","filter-abort"],setup(e,{slots:l,emit:a}){const{proxy:f}=Be(),{$q:i}=f,o=Q(!1),g=Q(!1),v=Q(-1),s=Q(""),C=Q(!1),u=Q(!1);let b,P,w,$,_,R,D,q,F;const H=Q(null),d=Q(null),j=Q(null),se=Q(null),ve=Q(null),fe=Fl(e),re=zl(ht),te=c(()=>Array.isArray(e.options)?e.options.length:0),lt=c(()=>e.virtualScrollItemSize===void 0?e.dense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:pe,virtualScrollSliceSizeComputed:Oe,localResetVirtualScroll:Le,padVirtualScroll:ke,onVirtualScrollEvt:ce,scrollTo:De,setVirtualScrollSize:he}=bl({virtualScrollLength:te,getVirtualScrollTarget:kt,getVirtualScrollEl:Ie,virtualScrollItemSizeComputed:lt}),y=sl(),N=c(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,h=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const m=e.mapOptions===!0&&P!==void 0?P:[],O=h.map(K=>Me(K,m));return e.modelValue===null&&t===!0?O.filter(K=>K!==null):O}return h}),k=c(()=>{const t={};return Fa.forEach(h=>{const m=e[h];m!==void 0&&(t[h]=m)}),t}),x=c(()=>e.optionsDark===null?y.isDark.value:e.optionsDark),z=c(()=>Wt(N.value)),W=c(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||N.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),G=c(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),M=c(()=>te.value===0),A=c(()=>N.value.map(t=>ae.value(t)).join(", ")),J=c(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),L=c(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||N.value.some(J.value))),le=c(()=>y.focused.value===!0?e.tabindex:-1),xe=c(()=>({tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":o.value===!0?"true":"false","aria-owns":`${y.targetUid.value}_lb`,"aria-controls":`${y.targetUid.value}_lb`})),ye=c(()=>{const t={id:`${y.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"};return v.value>=0&&(t["aria-activedescendant"]=`${y.targetUid.value}_${v.value}`),t}),de=c(()=>N.value.map((t,h)=>({index:h,opt:t,html:J.value(t),selected:!0,removeAtIndex:pt,toggleOption:Pe,tabindex:le.value}))),Ee=c(()=>{if(te.value===0)return[];const{from:t,to:h}=pe.value;return e.options.slice(t,h).map((m,O)=>{const K=ge.value(m)===!0,U=t+O,Z={clickable:!0,active:!1,activeClass:He.value,manualFocus:!0,focused:!1,disable:K,tabindex:-1,dense:e.optionsDense,dark:x.value,role:"option",id:`${y.targetUid.value}_${U}`,onClick:()=>{Pe(m)}};return K!==!0&&(ot(m)===!0&&(Z.active=!0),v.value===U&&(Z.focused=!0),Z["aria-selected"]=Z.active===!0?"true":"false",i.platform.is.desktop===!0&&(Z.onMousemove=()=>{o.value===!0&&Fe(U)})),{index:U,opt:m,html:J.value(m),label:ae.value(m),selected:Z.active,focused:Z.focused,toggleOption:Pe,setOptionIndex:Fe,itemProps:Z}})}),we=c(()=>e.dropdownIcon!==void 0?e.dropdownIcon:i.iconSet.arrow.dropdown),_e=c(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),He=c(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),oe=c(()=>Ce(e.optionValue,"value")),ae=c(()=>Ce(e.optionLabel,"label")),ge=c(()=>Ce(e.optionDisable,"disable")),Ne=c(()=>N.value.map(t=>oe.value(t))),qt=c(()=>{const t={onInput:ht,onChange:re,onKeydown:rt,onKeyup:bt,onKeypress:je,onFocus:ut,onClick(h){w===!0&&Ge(h)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=re,t});ne(N,t=>{P=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&y.innerLoading.value!==!0&&(g.value!==!0&&o.value!==!0||z.value!==!0)&&($!==!0&&Ye(),(g.value===!0||o.value===!0)&&p(""))},{immediate:!0}),ne(()=>e.fillInput,Ye),ne(o,It);function at(t){return e.emitValue===!0?oe.value(t):t}function Qe(t){if(t>-1&&t<N.value.length)if(e.multiple===!0){const h=e.modelValue.slice();a("remove",{index:t,value:h.splice(t,1)[0]}),a("update:modelValue",h)}else a("update:modelValue",null)}function pt(t){Qe(t),y.focus()}function nt(t,h){const m=at(t);if(e.multiple!==!0){e.fillInput===!0&&S(ae.value(t),!0,!0),a("update:modelValue",m);return}if(N.value.length===0){a("add",{index:0,value:m}),a("update:modelValue",e.multiple===!0?[m]:m);return}if(h===!0&&ot(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const O=e.modelValue.slice();a("add",{index:O.length,value:m}),O.push(m),a("update:modelValue",O)}function Pe(t,h){if(y.editable.value!==!0||t===void 0||ge.value(t)===!0)return;const m=oe.value(t);if(e.multiple!==!0){h!==!0&&(S(e.fillInput===!0?ae.value(t):"",!0,!0),$e()),d.value!==null&&d.value.focus(),(N.value.length===0||st(oe.value(N.value[0]),m)!==!0)&&a("update:modelValue",e.emitValue===!0?m:t);return}if((w!==!0||C.value===!0)&&y.focus(),ut(),N.value.length===0){const U=e.emitValue===!0?m:t;a("add",{index:0,value:U}),a("update:modelValue",e.multiple===!0?[U]:U);return}const O=e.modelValue.slice(),K=Ne.value.findIndex(U=>st(U,m));if(K>-1)a("remove",{index:K,value:O.splice(K,1)[0]});else{if(e.maxValues!==void 0&&O.length>=e.maxValues)return;const U=e.emitValue===!0?m:t;a("add",{index:O.length,value:U}),O.push(U)}a("update:modelValue",O)}function Fe(t){if(i.platform.is.desktop!==!0)return;const h=t>-1&&t<te.value?t:-1;v.value!==h&&(v.value=h)}function Te(t=1,h){if(o.value===!0){let m=v.value;do m=Xt(m+t,-1,te.value-1);while(m!==-1&&m!==v.value&&ge.value(e.options[m])===!0);v.value!==m&&(Fe(m),De(m),h!==!0&&e.useInput===!0&&e.fillInput===!0&&n(m>=0?ae.value(e.options[m]):R))}}function Me(t,h){const m=O=>st(oe.value(O),t);return e.options.find(m)||h.find(m)||t}function Ce(t,h){const m=t!==void 0?t:h;return typeof m=="function"?m:O=>O!==null&&typeof O=="object"&&m in O?O[m]:O}function ot(t){const h=oe.value(t);return Ne.value.find(m=>st(m,h))!==void 0}function ut(t){e.useInput===!0&&d.value!==null&&(t===void 0||d.value===t.target&&t.target.value===A.value)&&d.value.select()}function it(t){Al(t,27)===!0&&o.value===!0&&(Ge(t),$e(),Ye()),a("keyup",t)}function bt(t){const{value:h}=t.target;if(t.keyCode!==void 0){it(t);return}if(t.target.value="",clearTimeout(b),Ye(),typeof h=="string"&&h.length>0){const m=h.toLocaleLowerCase(),O=U=>{const Z=e.options.find(ie=>U.value(ie).toLocaleLowerCase()===m);return Z===void 0?!1:(N.value.indexOf(Z)===-1?Pe(Z):$e(),!0)},K=U=>{O(oe)!==!0&&(O(ae)===!0||U===!0||p(h,!0,()=>K(!0)))};K()}else y.clearValue(t)}function je(t){a("keypress",t)}function rt(t){if(a("keydown",t),Ll(t)===!0)return;const h=s.value.length>0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),m=t.shiftKey!==!0&&e.multiple!==!0&&(v.value>-1||h===!0);if(t.keyCode===27){Bt(t);return}if(t.keyCode===9&&m===!1){We();return}if(t.target===void 0||t.target.id!==y.targetUid.value)return;if(t.keyCode===40&&y.innerLoading.value!==!0&&o.value===!1){Je(t),Xe();return}if(t.keyCode===8&&e.hideSelected!==!0&&s.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Qe(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&a("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof s.value!="string"||s.value.length===0)&&(Je(t),v.value=-1,Te(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&Oe.value!==void 0&&(Je(t),v.value=Math.max(-1,Math.min(te.value,v.value+(t.keyCode===33?-1:1)*Oe.value.view)),Te(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(Je(t),Te(t.keyCode===38?-1:1,e.multiple));const O=te.value;if((q===void 0||F<Date.now())&&(q=""),O>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===t.ctrlKey&&(t.keyCode!==32||q.length>0)){o.value!==!0&&Xe(t);const K=t.key.toLocaleLowerCase(),U=q.length===1&&q[0]===K;F=Date.now()+1500,U===!1&&(Je(t),q+=K);const Z=new RegExp("^"+q.split("").map(Rt=>Oa.indexOf(Rt)>-1?"\\"+Rt:Rt).join(".*"),"i");let ie=v.value;if(U===!0||ie<0||Z.test(ae.value(e.options[ie]))!==!0)do ie=Xt(ie+1,-1,O-1);while(ie!==v.value&&(ge.value(e.options[ie])===!0||Z.test(ae.value(e.options[ie]))!==!0));v.value!==ie&&Ve(()=>{Fe(ie),De(ie),ie>=0&&e.useInput===!0&&e.fillInput===!0&&n(ae.value(e.options[ie]))});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||q!=="")&&(t.keyCode!==9||m===!1))){if(t.keyCode!==9&&Je(t),v.value>-1&&v.value<O){Pe(e.options[v.value]);return}if(h===!0){const K=(U,Z)=>{if(Z){if(tl(Z)!==!0)return}else Z=e.newValueMode;if(U==null)return;S("",e.multiple!==!0,!0),(Z==="toggle"?Pe:nt)(U,Z==="add-unique"),e.multiple!==!0&&(d.value!==null&&d.value.focus(),$e())};if(e.onNewValue!==void 0?a("new-value",s.value,K):K(s.value),e.multiple!==!0)return}o.value===!0?We():y.innerLoading.value!==!0&&Xe()}}function Ie(){return w===!0?ve.value:j.value!==null&&j.value.__qPortalInnerRef.value!==null?j.value.__qPortalInnerRef.value:void 0}function kt(){return Ie()}function xt(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?de.value.map(t=>l["selected-item"](t)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?de.value.map((t,h)=>r(ea,{key:"option-"+h,removable:y.editable.value===!0&&ge.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:le.value,onRemove(){t.removeAtIndex(h)}},()=>r("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:ae.value(t.opt)}))):[r("span",{[L.value===!0?"innerHTML":"textContent"]:e.displayValue!==void 0?e.displayValue:A.value})]}function St(){if(M.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:s.value}):void 0;const t=l.option!==void 0?l.option:m=>r(mt,V({key:m.index},m.itemProps),()=>r(qe,()=>r(ze,()=>r("span",{[m.html===!0?"innerHTML":"textContent"]:m.label}))));let h=ke("div",Ee.value.map(t));return l["before-options"]!==void 0&&(h=l["before-options"]().concat(h)),Ct(l["after-options"],h)}function Pt(t,h){const m=h===!0?V(V({},xe.value),y.splitAttrs.attributes.value):void 0,O=V(ee(V({ref:h===!0?d:void 0,key:"i_t",class:W.value,style:e.inputStyle,value:s.value!==void 0?s.value:"",type:"search"},m),{id:h===!0?y.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t!==!0&&e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0}),qt.value);return t!==!0&&w===!0&&(Array.isArray(O.class)===!0?O.class=[...O.class,"no-pointer-events"]:O.class+=" no-pointer-events"),r("input",O)}function ht(t){clearTimeout(b),!(t&&t.target&&t.target.composing===!0)&&(n(t.target.value||""),$=!0,R=s.value,y.focused.value!==!0&&(w!==!0||C.value===!0)&&y.focus(),e.onFilter!==void 0&&(b=setTimeout(()=>{p(s.value)},e.inputDebounce)))}function n(t){s.value!==t&&(s.value=t,a("input-value",t))}function S(t,h,m){$=m!==!0,e.useInput===!0&&(n(t),(h===!0||m!==!0)&&(R=t),h!==!0&&p(t))}function p(t,h,m){if(e.onFilter===void 0||h!==!0&&y.focused.value!==!0)return;y.innerLoading.value===!0?a("filter-abort"):(y.innerLoading.value=!0,u.value=!0),t!==""&&e.multiple!==!0&&N.value.length>0&&$!==!0&&t===ae.value(N.value[0])&&(t="");const O=setTimeout(()=>{o.value===!0&&(o.value=!1)},10);clearTimeout(_),_=O,a("filter",t,(K,U)=>{(h===!0||y.focused.value===!0)&&_===O&&(clearTimeout(_),typeof K=="function"&&K(),u.value=!1,Ve(()=>{y.innerLoading.value=!1,y.editable.value===!0&&(h===!0?o.value===!0&&$e():o.value===!0?It(!0):o.value=!0),typeof U=="function"&&Ve(()=>{U(f)}),typeof m=="function"&&Ve(()=>{m(f)})}))},()=>{y.focused.value===!0&&_===O&&(clearTimeout(_),y.innerLoading.value=!1,u.value=!1),o.value===!0&&(o.value=!1)})}function T(){return r(Zl,ee(V({ref:j,class:G.value,style:e.popupContentStyle,modelValue:o.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&M.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:x.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:_e.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0},ye.value),{onScrollPassive:ce,onBeforeShow:Dt,onBeforeHide:I,onShow:Y}),St)}function I(t){Ht(t),We()}function Y(){he()}function X(t){Ge(t),d.value!==null&&d.value.focus(),C.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function be(t){Ge(t),Ve(()=>{C.value=!1})}function ue(){const t=[r(Ba,ee(V(ee(V({class:`col-auto ${y.fieldClass.value}`},k.value),{for:y.targetUid.value,dark:x.value,square:!0,loading:u.value,itemAligned:!1,filled:!0,stackLabel:s.value.length>0}),y.splitAttrs.listeners.value),{onFocus:X,onBlur:be}),ee(V({},l),{rawControl:()=>y.getControl(!0),before:void 0,after:void 0}))];return o.value===!0&&t.push(r("div",ee(V({ref:ve,class:G.value+" scroll",style:e.popupContentStyle},ye.value),{onClick:Bt,onScrollPassive:ce}),St())),r(cl,{ref:se,modelValue:g.value,position:e.useInput===!0?"top":void 0,transitionShow:D,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:Dt,onBeforeHide:Ue,onHide:Ke,onShow:Vt},()=>r("div",{class:"q-select__dialog"+(x.value===!0?" q-select__dialog--dark q-dark":"")+(C.value===!0?" q-select__dialog--focused":"")},t))}function Ue(t){Ht(t),se.value!==null&&se.value.__updateRefocusTarget(y.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),y.focused.value=!1}function Ke(t){$e(),y.focused.value===!1&&a("blur",t),Ye()}function Vt(){const t=document.activeElement;(t===null||t.id!==y.targetUid.value)&&d.value!==null&&d.value!==t&&d.value.focus(),he()}function We(){g.value!==!0&&(v.value=-1,o.value===!0&&(o.value=!1),y.focused.value===!1&&(clearTimeout(_),_=void 0,y.innerLoading.value===!0&&(a("filter-abort"),y.innerLoading.value=!1,u.value=!1)))}function Xe(t){y.editable.value===!0&&(w===!0?(y.onControlFocusin(t),g.value=!0,Ve(()=>{y.focus()})):y.focus(),e.onFilter!==void 0?p(s.value):(M.value!==!0||l["no-option"]!==void 0)&&(o.value=!0))}function $e(){g.value=!1,We()}function Ye(){e.useInput===!0&&S(e.multiple!==!0&&e.fillInput===!0&&N.value.length>0&&ae.value(N.value[0])||"",!0,!0)}function It(t){let h=-1;if(t===!0){if(N.value.length>0){const m=oe.value(N.value[0]);h=e.options.findIndex(O=>st(oe.value(O),m))}Le(h)}Fe(h)}function $t(){g.value===!1&&j.value!==null&&j.value.updatePosition()}function Dt(t){t!==void 0&&Ge(t),a("popup-show",t),y.hasPopupOpen=!0,y.onControlFocusin(t)}function Ht(t){t!==void 0&&Ge(t),a("popup-hide",t),y.hasPopupOpen=!1,y.onControlFocusout(t)}function Nt(){w=i.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||M.value===!1:!0),D=i.platform.is.ios===!0&&w===!0&&e.useInput===!0?"fade":e.transitionShow}return Tl(Nt),Ml($t),Nt(),_t(()=>{clearTimeout(b)}),Object.assign(f,{showPopup:Xe,hidePopup:$e,removeAtIndex:Qe,add:nt,toggleOption:Pe,getOptionIndex:()=>v.value,setOptionIndex:Fe,moveOptionSelection:Te,filter:p,updateMenuPosition:$t,updateInputValue:S,isOptionSelected:ot,getEmittingOptionValue:at,isOptionDisabled:(...t)=>ge.value.apply(null,t)===!0,getOptionValue:(...t)=>oe.value.apply(null,t),getOptionLabel:(...t)=>ae.value.apply(null,t)}),Object.assign(y,{innerValue:N,fieldClass:c(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:H,targetRef:d,hasValue:z,showPopup:Xe,floatingLabel:c(()=>(e.hideSelected===!0?s.value.length>0:z.value===!0)||Wt(e.displayValue)),getControlChild:()=>{if(y.editable.value!==!1&&(g.value===!0||M.value!==!0||l["no-option"]!==void 0))return w===!0?ue():T();y.hasPopupOpen===!0&&(y.hasPopupOpen=!1)},controlEvents:{onFocusin(t){y.onControlFocusin(t)},onFocusout(t){y.onControlFocusout(t,()=>{Ye(),We()})},onClick(t){if(Bt(t),w!==!0&&o.value===!0){We(),d.value!==null&&d.value.focus();return}Xe(t)}},getControl:t=>{const h=xt(),m=t===!0||g.value!==!0||w!==!0;if(e.useInput===!0)h.push(Pt(t,m));else if(y.editable.value===!0){const K=m===!0?xe.value:void 0;h.push(r("input",ee(V({ref:m===!0?d:void 0,key:"d_t",class:"q-select__focus-target",id:m===!0?y.targetUid.value:void 0,readonly:!0},K),{onKeydown:rt,onKeyup:it,onKeypress:je}))),m===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length>0&&h.push(r("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,onKeyup:bt}))}if(fe.value!==void 0&&e.disable!==!0&&Ne.value.length>0){const K=Ne.value.map(U=>r("option",{value:U,selected:!0}));h.push(r("select",{class:"hidden",name:fe.value,multiple:e.multiple},K))}const O=e.useInput===!0||m!==!0?void 0:y.splitAttrs.attributes.value;return r("div",V({class:"q-field__native row items-center"},O),h)},getInnerAppend:()=>e.loading!==!0&&u.value!==!0&&e.hideDropdownIcon!==!0?[r(et,{class:"q-select__dropdown-icon"+(o.value===!0?" rotate-180":""),name:we.value})]:null}),rl(y)}});const Ta={xs:2,sm:4,md:6,lg:10,xl:14};function ll(e,l,a){return{transform:l===!0?`translateX(${a.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var Ma=Ae({name:"QLinearProgress",props:ee(V(V({},zt),El),{value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean}),setup(e,{slots:l}){const{proxy:a}=Be(),f=At(e,a.$q),i=Il(e,Ta),o=c(()=>e.indeterminate===!0||e.query===!0),g=c(()=>e.reverse!==e.query),v=c(()=>ee(V({},i.value!==null?i.value:{}),{"--q-linear-progress-speed":`${e.animationSpeed}ms`})),s=c(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),C=c(()=>ll(e.buffer!==void 0?e.buffer:1,g.value,a.$q)),u=c(()=>`q-linear-progress__track absolute-full q-linear-progress__track--with${e.instantFeedback===!0?"out":""}-transition q-linear-progress__track--${f.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),b=c(()=>ll(o.value===!0?1:e.value,g.value,a.$q)),P=c(()=>`q-linear-progress__model absolute-full q-linear-progress__model--with${e.instantFeedback===!0?"out":""}-transition q-linear-progress__model--${o.value===!0?"in":""}determinate`),w=c(()=>({width:`${e.value*100}%`})),$=c(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"}`);return()=>{const _=[r("div",{class:u.value,style:C.value}),r("div",{class:P.value,style:b.value})];return e.stripe===!0&&o.value===!1&&_.push(r("div",{class:$.value,style:w.value})),r("div",{class:s.value,style:v.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},Ct(l.default,_))}}});function za(e,l){return new Date(e)-new Date(l)}const Aa={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function La(e,l,a,f){const i=c(()=>{const{sortBy:v}=l.value;return v&&a.value.find(s=>s.name===v)||null}),o=c(()=>e.sortMethod!==void 0?e.sortMethod:(v,s,C)=>{const u=a.value.find(w=>w.name===s);if(u===void 0||u.field===void 0)return v;const b=C===!0?-1:1,P=typeof u.field=="function"?w=>u.field(w):w=>w[u.field];return v.sort((w,$)=>{let _=P(w),R=P($);return _==null?-1*b:R==null?1*b:u.sort!==void 0?u.sort(_,R,w,$)*b:Mt(_)===!0&&Mt(R)===!0?(_-R)*b:Yt(_)===!0&&Yt(R)===!0?za(_,R)*b:typeof _=="boolean"&&typeof R=="boolean"?(_-R)*b:([_,R]=[_,R].map(D=>(D+"").toLocaleString().toLowerCase()),_<R?-1*b:_===R?0:b)})});function g(v){let s=e.columnSortOrder;if($l(v)===!0)v.sortOrder&&(s=v.sortOrder),v=v.name;else{const b=a.value.find(P=>P.name===v);b!==void 0&&b.sortOrder&&(s=b.sortOrder)}let{sortBy:C,descending:u}=l.value;C!==v?(C=v,u=s==="da"):e.binaryStateSort===!0?u=!u:u===!0?s==="ad"?C=null:u=!1:s==="ad"?u=!0:C=null,f({sortBy:C,descending:u,page:1})}return{columnToSort:i,computedSortMethod:o,sort:g}}const Ea={filter:[String,Object],filterMethod:Function};function Ia(e,l){const a=c(()=>e.filterMethod!==void 0?e.filterMethod:(f,i,o,g)=>{const v=i?i.toLowerCase():"";return f.filter(s=>o.some(C=>{const u=g(C,s)+"";return(u==="undefined"||u==="null"?"":u.toLowerCase()).indexOf(v)!==-1}))});return ne(()=>e.filter,()=>{Ve(()=>{l({page:1},!0)})},{deep:!0}),{computedFilterMethod:a}}function $a(e,l){for(const a in l)if(l[a]!==e[a])return!1;return!0}function al(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const Da={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function Ha(e,l){const{props:a,emit:f}=e,i=Q(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:a.rowsPerPageOptions.length>0?a.rowsPerPageOptions[0]:5},a.pagination)),o=c(()=>{const u=a["onUpdate:pagination"]!==void 0?V(V({},i.value),a.pagination):i.value;return al(u)}),g=c(()=>o.value.rowsNumber!==void 0);function v(u){s({pagination:u,filter:a.filter})}function s(u={}){Ve(()=>{f("request",{pagination:u.pagination||o.value,filter:u.filter||a.filter,getCellValue:l})})}function C(u,b){const P=al(V(V({},o.value),u));if($a(o.value,P)===!0){g.value===!0&&b===!0&&v(P);return}if(g.value===!0){v(P);return}a.pagination!==void 0&&a["onUpdate:pagination"]!==void 0?f("update:pagination",P):i.value=P}return{innerPagination:i,computedPagination:o,isServerSide:g,requestServerInteraction:s,setPagination:C}}function Na(e,l,a,f,i,o){const{props:g,emit:v,proxy:{$q:s}}=e,C=c(()=>f.value===!0?a.value.rowsNumber||0:o.value),u=c(()=>{const{page:H,rowsPerPage:d}=a.value;return(H-1)*d}),b=c(()=>{const{page:H,rowsPerPage:d}=a.value;return H*d}),P=c(()=>a.value.page===1),w=c(()=>a.value.rowsPerPage===0?1:Math.max(1,Math.ceil(C.value/a.value.rowsPerPage))),$=c(()=>b.value===0?!0:a.value.page>=w.value),_=c(()=>(g.rowsPerPageOptions.includes(l.value.rowsPerPage)?g.rowsPerPageOptions:[l.value.rowsPerPage].concat(g.rowsPerPageOptions)).map(d=>({label:d===0?s.lang.table.allRows:""+d,value:d})));ne(w,(H,d)=>{if(H===d)return;const j=a.value.page;H&&!j?i({page:1}):H<j&&i({page:H})});function R(){i({page:1})}function D(){const{page:H}=a.value;H>1&&i({page:H-1})}function q(){const{page:H,rowsPerPage:d}=a.value;b.value>0&&H*d<C.value&&i({page:H+1})}function F(){i({page:w.value})}return g["onUpdate:pagination"]!==void 0&&v("update:pagination",V({},a.value)),{firstRowIndex:u,lastRowIndex:b,isFirstPage:P,isLastPage:$,pagesNumber:w,computedRowsPerPageOptions:_,computedRowsNumber:C,firstPage:R,prevPage:D,nextPage:q,lastPage:F}}const Qa={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},ja=["update:selected","selection"];function Ua(e,l,a,f){const i=c(()=>{const $={};return e.selected.map(f.value).forEach(_=>{$[_]=!0}),$}),o=c(()=>e.selection!=="none"),g=c(()=>e.selection==="single"),v=c(()=>e.selection==="multiple"),s=c(()=>a.value.length>0&&a.value.every($=>i.value[f.value($)]===!0)),C=c(()=>s.value!==!0&&a.value.some($=>i.value[f.value($)]===!0)),u=c(()=>e.selected.length);function b($){return i.value[$]===!0}function P(){l("update:selected",[])}function w($,_,R,D){l("selection",{rows:_,added:R,keys:$,evt:D});const q=g.value===!0?R===!0?_:[]:R===!0?e.selected.concat(_):e.selected.filter(F=>$.includes(f.value(F))===!1);l("update:selected",q)}return{hasSelectionMode:o,singleSelection:g,multipleSelection:v,allRowsSelected:s,someRowsSelected:C,rowsSelectedNumber:u,isRowSelected:b,clearSelection:P,updateSelection:w}}function nl(e){return Array.isArray(e)?e.slice():[]}const Ka={expanded:Array},Wa=["update:expanded"];function Xa(e,l){const a=Q(nl(e.expanded));ne(()=>e.expanded,g=>{a.value=nl(g)});function f(g){return a.value.includes(g)}function i(g){e.expanded!==void 0?l("update:expanded",g):a.value=g}function o(g,v){const s=a.value.slice(),C=s.indexOf(g);v===!0?C===-1&&(s.push(g),i(s)):C!==-1&&(s.splice(C,1),i(s))}return{isRowExpanded:f,setExpanded:i,updateExpanded:o}}const Ya={visibleColumns:Array};function Ga(e,l,a){const f=c(()=>{if(e.columns!==void 0)return e.columns;const v=e.rows[0];return v!==void 0?Object.keys(v).map(s=>({name:s,label:s.toUpperCase(),field:s,align:Mt(v[s])?"right":"left",sortable:!0})):[]}),i=c(()=>{const{sortBy:v,descending:s}=l.value;return(e.visibleColumns!==void 0?f.value.filter(u=>u.required===!0||e.visibleColumns.includes(u.name)===!0):f.value).map(u=>{const b=u.align||"right",P=`text-${b}`;return ee(V({},u),{align:b,__iconClass:`q-table__sort-icon q-table__sort-icon--${b}`,__thClass:P+(u.headerClasses!==void 0?" "+u.headerClasses:"")+(u.sortable===!0?" sortable":"")+(u.name===v?` sorted ${s===!0?"sort-desc":""}`:""),__tdStyle:u.style!==void 0?typeof u.style!="function"?()=>u.style:u.style:()=>null,__tdClass:u.classes!==void 0?typeof u.classes!="function"?()=>P+" "+u.classes:w=>P+" "+u.classes(w):()=>P})})}),o=c(()=>{const v={};return i.value.forEach(s=>{v[s.name]=s}),v}),g=c(()=>e.tableColspan!==void 0?e.tableColspan:i.value.length+(a.value===!0?1:0));return{colList:f,computedCols:i,computedColsMap:o,computedColspan:g}}const yt="q-table__bottom row items-center",hl={};gl.forEach(e=>{hl[e]={}});var Ja=Ae({name:"QTable",props:V(V(V(V(V(V(V(V(ee(V({rows:{type:Array,default:()=>[]},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean},hl),{noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function}),zt),ia),Ya),Ea),Da),Ka),Qa),Aa),emits:["request","virtual-scroll",...ra,...Wa,...ja],setup(e,{slots:l,emit:a}){const f=Be(),{proxy:{$q:i}}=f,o=At(e,i),{inFullscreen:g,toggleFullscreen:v}=sa(),s=c(()=>typeof e.rowKey=="function"?e.rowKey:n=>n[e.rowKey]),C=Q(null),u=Q(null),b=c(()=>e.grid!==!0&&e.virtualScroll===!0),P=c(()=>" q-table__card"+(o.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),w=c(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.loading===!0?" q-table--loading":"")+(e.grid===!0?" q-table--grid":P.value)+(o.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(g.value===!0?" fullscreen scroll":"")),$=c(()=>w.value+(e.loading===!0?" q-table--loading":""));ne(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+w.value,()=>{b.value===!0&&u.value!==null&&u.value.reset()});const{innerPagination:_,computedPagination:R,isServerSide:D,requestServerInteraction:q,setPagination:F}=Ha(f,Me),{computedFilterMethod:H}=Ia(e,F),{isRowExpanded:d,setExpanded:j,updateExpanded:se}=Xa(e,a),ve=c(()=>{let n=e.rows;if(D.value===!0||n.length===0)return n;const{sortBy:S,descending:p}=R.value;return e.filter&&(n=H.value(n,e.filter,N.value,Me)),z.value!==null&&(n=W.value(e.rows===n?n.slice():n,S,p)),n}),fe=c(()=>ve.value.length),re=c(()=>{let n=ve.value;if(D.value===!0)return n;const{rowsPerPage:S}=R.value;return S!==0&&(M.value===0&&e.rows!==n?n.length>A.value&&(n=n.slice(0,A.value)):n=n.slice(M.value,A.value)),n}),{hasSelectionMode:te,singleSelection:lt,multipleSelection:pe,allRowsSelected:Oe,someRowsSelected:Le,rowsSelectedNumber:ke,isRowSelected:ce,clearSelection:De,updateSelection:he}=Ua(e,a,re,s),{colList:y,computedCols:N,computedColsMap:k,computedColspan:x}=Ga(e,R,te),{columnToSort:z,computedSortMethod:W,sort:G}=La(e,R,y,F),{firstRowIndex:M,lastRowIndex:A,isFirstPage:J,isLastPage:L,pagesNumber:le,computedRowsPerPageOptions:xe,computedRowsNumber:ye,firstPage:de,prevPage:Ee,nextPage:we,lastPage:_e}=Na(f,_,R,D,F,fe),He=c(()=>re.value.length===0),oe=c(()=>{const n={};return gl.forEach(S=>{n[S]=e[S]}),n.virtualScrollItemSize===void 0&&(n.virtualScrollItemSize=e.dense===!0?28:48),n});function ae(){b.value===!0&&u.value.reset()}function ge(){if(e.grid===!0)return ht();const n=e.hideHeader!==!0?it:null;if(b.value===!0){const p=l["top-row"],T=l["bottom-row"],I={default:Y=>Qe(Y.item,l.body,Y.index)};if(p!==void 0){const Y=r("tbody",p({cols:N.value}));I.before=n===null?()=>Y:()=>[n()].concat(Y)}else n!==null&&(I.before=n);return T!==void 0&&(I.after=()=>r("tbody",T({cols:N.value}))),r(Ra,ee(V({ref:u,class:e.tableClass,style:e.tableStyle},oe.value),{items:re.value,type:"__qtable",tableColspan:x.value,onVirtualScroll:qt}),I)}const S=[pt()];return n!==null&&S.unshift(n()),vl({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},S)}function Ne(n,S){if(u.value!==null){u.value.scrollTo(n,S);return}n=parseInt(n,10);const p=C.value.querySelector(`tbody tr:nth-of-type(${n+1})`);if(p!==null){const T=C.value.querySelector(".q-table__middle.scroll"),{offsetTop:I}=p,Y=I<T.scrollTop?"decrease":"increase";T.scrollTop=I,a("virtual-scroll",{index:n,from:0,to:_.value.rowsPerPage-1,direction:Y})}}function qt(n){a("virtual-scroll",n)}function at(){return[r(Ma,{class:"q-table__linear-progress",color:e.color,dark:o.value,indeterminate:!0,trackColor:"transparent"})]}function Qe(n,S,p){const T=s.value(n),I=ce(T);if(S!==void 0)return S(nt({key:T,row:n,pageIndex:p,__trClass:I?"selected":""}));const Y=l["body-cell"],X=N.value.map(ue=>{const Ue=l[`body-cell-${ue.name}`],Ke=Ue!==void 0?Ue:Y;return Ke!==void 0?Ke(Pe({key:T,row:n,pageIndex:p,col:ue})):r("td",{class:ue.__tdClass(n),style:ue.__tdStyle(n)},Me(ue,n))});if(te.value===!0){const ue=l["body-selection"],Ue=ue!==void 0?ue(Fe({key:T,row:n,pageIndex:p})):[r(Ot,{modelValue:I,color:e.color,dark:o.value,dense:e.dense,"onUpdate:modelValue":(Ke,Vt)=>{he([T],[n],Ke,Vt)}})];X.unshift(r("td",{class:"q-table--col-auto-width"},Ue))}const be={key:T,class:{selected:I}};return e.onRowClick!==void 0&&(be.class["cursor-pointer"]=!0,be.onClick=ue=>{a("RowClick",ue,n,p)}),e.onRowDblclick!==void 0&&(be.class["cursor-pointer"]=!0,be.onDblclick=ue=>{a("RowDblclick",ue,n,p)}),e.onRowContextmenu!==void 0&&(be.class["cursor-pointer"]=!0,be.onContextmenu=ue=>{a("RowContextmenu",ue,n,p)}),r("tr",be,X)}function pt(){const n=l.body,S=l["top-row"],p=l["bottom-row"];let T=re.value.map((I,Y)=>Qe(I,n,Y));return S!==void 0&&(T=S({cols:N.value}).concat(T)),p!==void 0&&(T=T.concat(p({cols:N.value}))),r("tbody",T)}function nt(n){return Te(n),n.cols=n.cols.map(S=>{const p=V({},S);return ct(p,"value",()=>Me(S,n.row)),p}),n}function Pe(n){return Te(n),ct(n,"value",()=>Me(n.col,n.row)),n}function Fe(n){return Te(n),n}function Te(n){Object.assign(n,{cols:N.value,colsMap:k.value,sort:G,rowIndex:M.value+n.pageIndex,color:e.color,dark:o.value,dense:e.dense}),te.value===!0&&ct(n,"selected",()=>ce(n.key),(S,p)=>{he([n.key],[n.row],S,p)}),ct(n,"expand",()=>d(n.key),S=>{se(n.key,S)})}function Me(n,S){const p=typeof n.field=="function"?n.field(S):S[n.field];return n.format!==void 0?n.format(p,S):p}const Ce=c(()=>({pagination:R.value,pagesNumber:le.value,isFirstPage:J.value,isLastPage:L.value,firstPage:de,prevPage:Ee,nextPage:we,lastPage:_e,inFullscreen:g.value,toggleFullscreen:v}));function ot(){const n=l.top,S=l["top-left"],p=l["top-right"],T=l["top-selection"],I=te.value===!0&&T!==void 0&&ke.value>0,Y="q-table__top relative-position row items-center";if(n!==void 0)return r("div",{class:Y},[n(Ce.value)]);let X;if(I===!0?X=T(Ce.value).slice():(X=[],S!==void 0?X.push(r("div",{class:"q-table-control"},[S(Ce.value)])):e.title&&X.push(r("div",{class:"q-table__control"},[r("div",{class:["q-table__title",e.titleClass]},e.title)]))),p!==void 0&&(X.push(r("div",{class:"q-table__separator col"})),X.push(r("div",{class:"q-table__control"},[p(Ce.value)]))),X.length!==0)return r("div",{class:Y},X)}const ut=c(()=>Le.value===!0?null:Oe.value);function it(){const n=bt();return e.loading===!0&&l.loading===void 0&&n.push(r("tr",{class:"q-table__progress"},[r("th",{class:"relative-position",colspan:x.value},at())])),r("thead",n)}function bt(){const n=l.header,S=l["header-cell"];if(n!==void 0)return n(je({header:!0})).slice();const p=N.value.map(T=>{const I=l[`header-cell-${T.name}`],Y=I!==void 0?I:S,X=je({col:T});return Y!==void 0?Y(X):r(_a,{key:T.name,props:X},()=>T.label)});if(lt.value===!0&&e.grid!==!0)p.unshift(r("th",{class:"q-table--col-auto-width"}," "));else if(pe.value===!0){const T=l["header-selection"],I=T!==void 0?T(je({})):[r(Ot,{color:e.color,modelValue:ut.value,dark:o.value,dense:e.dense,"onUpdate:modelValue":rt})];p.unshift(r("th",{class:"q-table--col-auto-width"},I))}return[r("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},p)]}function je(n){return Object.assign(n,{cols:N.value,sort:G,colsMap:k.value,color:e.color,dark:o.value,dense:e.dense}),pe.value===!0&&ct(n,"selected",()=>ut.value,rt),n}function rt(n){Le.value===!0&&(n=!1),he(re.value.map(s.value),re.value,n)}const Ie=c(()=>{const n=[e.iconFirstPage||i.iconSet.table.firstPage,e.iconPrevPage||i.iconSet.table.prevPage,e.iconNextPage||i.iconSet.table.nextPage,e.iconLastPage||i.iconSet.table.lastPage];return i.lang.rtl===!0?n.reverse():n});function kt(){if(e.hideBottom===!0)return;if(He.value===!0){if(e.hideNoData===!0)return;const p=e.loading===!0?e.loadingLabel||i.lang.table.loading:e.filter?e.noResultsLabel||i.lang.table.noResults:e.noDataLabel||i.lang.table.noData,T=l["no-data"],I=T!==void 0?[T({message:p,icon:i.iconSet.table.warning,filter:e.filter})]:[r(et,{class:"q-table__bottom-nodata-icon",name:i.iconSet.table.warning}),p];return r("div",{class:yt+" q-table__bottom--nodata"},I)}const n=l.bottom;if(n!==void 0)return r("div",{class:yt},[n(Ce.value)]);const S=e.hideSelectedBanner!==!0&&te.value===!0&&ke.value>0?[r("div",{class:"q-table__control"},[r("div",[(e.selectedRowsLabel||i.lang.table.selectedRecords)(ke.value)])])]:[];if(e.hidePagination!==!0)return r("div",{class:yt+" justify-end"},St(S));if(S.length>0)return r("div",{class:yt},S)}function xt(n){F({page:1,rowsPerPage:n.value})}function St(n){let S;const{rowsPerPage:p}=R.value,T=e.paginationLabel||i.lang.table.pagination,I=l.pagination,Y=e.rowsPerPageOptions.length>1;if(n.push(r("div",{class:"q-table__separator col"})),Y===!0&&n.push(r("div",{class:"q-table__control"},[r("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||i.lang.table.recordsPerPage]),r(Sl,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:p,options:xe.value,displayValue:p===0?i.lang.table.allRows:p,dark:o.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":xt})])),I!==void 0)S=I(Ce.value);else if(S=[r("span",p!==0?{class:"q-table__bottom-item"}:{},[p?T(M.value+1,Math.min(A.value,ye.value),ye.value):T(1,fe.value,ye.value)])],p!==0&&le.value>1){const X={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(X.size="sm"),le.value>2&&S.push(r(vt,ee(V({key:"pgFirst"},X),{icon:Ie.value[0],disable:J.value,onClick:de}))),S.push(r(vt,ee(V({key:"pgPrev"},X),{icon:Ie.value[1],disable:J.value,onClick:Ee})),r(vt,ee(V({key:"pgNext"},X),{icon:Ie.value[2],disable:L.value,onClick:we}))),le.value>2&&S.push(r(vt,ee(V({key:"pgLast"},X),{icon:Ie.value[3],disable:L.value,onClick:_e})))}return n.push(r("div",{class:"q-table__control"},S)),n}function Pt(){const n=e.gridHeader===!0?[r("table",{class:"q-table"},[it()])]:e.loading===!0&&l.loading===void 0?at():void 0;return r("div",{class:"q-table__middle"},n)}function ht(){const n=l.item!==void 0?l.item:S=>{const p=S.cols.map(I=>r("div",{class:"q-table__grid-item-row"},[r("div",{class:"q-table__grid-item-title"},[I.label]),r("div",{class:"q-table__grid-item-value"},[I.value])]));if(te.value===!0){const I=l["body-selection"],Y=I!==void 0?I(S):[r(Ot,{modelValue:S.selected,color:e.color,dark:o.value,dense:e.dense,"onUpdate:modelValue":(X,be)=>{he([S.key],[S.row],X,be)}})];p.unshift(r("div",{class:"q-table__grid-item-row"},Y),r(Hl,{dark:o.value}))}const T={class:["q-table__grid-item-card"+P.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(T.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(T.onClick=I=>{a("RowClick",I,S.row,S.pageIndex)}),e.onRowDblclick!==void 0&&(T.onDblclick=I=>{a("RowDblclick",I,S.row,S.pageIndex)})),r("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(S.selected===!0?"q-table__grid-item--selected":"")},[r("div",T,p)])};return r("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},re.value.map((S,p)=>n(nt({key:s.value(S),row:S,pageIndex:p}))))}return Object.assign(f.proxy,{requestServerInteraction:q,setPagination:F,firstPage:de,prevPage:Ee,nextPage:we,lastPage:_e,isRowSelected:ce,clearSelection:De,isRowExpanded:d,setExpanded:j,sort:G,resetVirtualScroll:ae,scrollTo:Ne,getCellValue:Me}),Dl(f.proxy,{filteredSortedRows:()=>ve.value,computedRows:()=>re.value,computedRowsNumber:()=>ye.value}),()=>{const n=[ot()],S={ref:C,class:$.value};return e.grid===!0?n.push(Pt()):Object.assign(S,{class:[S.class,e.cardClass],style:e.cardStyle}),n.push(ge(),kt()),e.loading===!0&&l.loading!==void 0&&n.push(l.loading()),r("div",S,n)}}}),Za=Ae({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:l,emit:a}){const{proxy:{$q:f}}=Be(),i=Nl(Ql,()=>{console.error("QFooter needs to be child of QLayout")}),o=Q(parseInt(e.heightHint,10)),g=Q(!0),v=Q(jl.value===!0||i.isContainer.value===!0?0:window.innerHeight),s=c(()=>e.reveal===!0||i.view.value.indexOf("F")>-1||f.platform.is.ios&&i.isContainer.value===!0),C=c(()=>i.isContainer.value===!0?i.containerHeight.value:v.value),u=c(()=>{if(e.modelValue!==!0)return 0;if(s.value===!0)return g.value===!0?o.value:0;const d=i.scroll.value.position+C.value+o.value-i.height.value;return d>0?d:0}),b=c(()=>e.modelValue!==!0||s.value===!0&&g.value!==!0),P=c(()=>e.modelValue===!0&&b.value===!0&&e.reveal===!0),w=c(()=>"q-footer q-layout__section--marginal "+(s.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(b.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(s.value!==!0?" hidden":""):"")),$=c(()=>{const d=i.rows.value.bottom,j={};return d[0]==="l"&&i.left.space===!0&&(j[f.lang.rtl===!0?"right":"left"]=`${i.left.size}px`),d[2]==="r"&&i.right.space===!0&&(j[f.lang.rtl===!0?"left":"right"]=`${i.right.size}px`),j});function _(d,j){i.update("footer",d,j)}function R(d,j){d.value!==j&&(d.value=j)}function D({height:d}){R(o,d),_("size",d)}function q(){if(e.reveal!==!0)return;const{direction:d,position:j,inflectionPoint:se}=i.scroll.value;R(g,d==="up"||j-se<100||i.height.value-C.value-j-o.value<300)}function F(d){P.value===!0&&R(g,!0),a("focusin",d)}ne(()=>e.modelValue,d=>{_("space",d),R(g,!0),i.animate()}),ne(u,d=>{_("offset",d)}),ne(()=>e.reveal,d=>{d===!1&&R(g,e.modelValue)}),ne(g,d=>{i.animate(),a("reveal",d)}),ne([o,i.scroll,i.height],q),ne(()=>f.screen.height,d=>{i.isContainer.value!==!0&&R(v,d)});const H={};return i.instances.footer=H,e.modelValue===!0&&_("size",o.value),_("space",e.modelValue),_("offset",u.value),_t(()=>{i.instances.footer===H&&(i.instances.footer=void 0,_("size",0),_("offset",0),_("space",!1))}),()=>{const d=Ct(l.default,[r(ta,{debounce:0,onResize:D})]);return e.elevated===!0&&d.push(r("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),r("footer",{class:w.value,style:$.value,onFocusin:F},d)}}});const en=me("span",{class:"text-weight-thin"},"Reference No.:",-1),tn=me("span",{class:"text-h6 text-white"},"Status: ",-1),ln=Re(" Field hint "),an=Re("Items"),nn=["src"],on={class:"row no-wrap"},un={setup(e){const l=Be(),{$api:a,$qs:f}=l.appContext.config.globalProperties,i=[{name:"refNo",label:"Reference Number",field:"refNo",align:"left"},{name:"landmark",label:"Landmark",field:"landmark",align:"left"},{name:"contactNo",label:"Contact Number",field:"contactNo",align:"left"},{name:"address",label:"Address",field:"address",align:"left"},{name:"createdAt",label:"Created At",field:D=>Gl.formatDate(D.createdAt,"MMMM DD, YYYY"),align:"left"}],o=Q([]),g=Q(!1),v=Q([]),s=Q({}),C=Q(""),u=Q(!1),b=Q({sortBy:"desc",descending:!1,page:1,rowsPerPage:5,rowsNumber:5});async function P(D,q,F,H,d){const j=f.stringify({populate:["items","status"],pagination:{start:D,limit:q},sort:["updatedAt:desc"]},{encodeValuesOnly:!0});return(await a.get("/orders?"+j)).data}function w(D,q,F){q.status.data===null&&(q.status.data={id:null}),s.value=q,g.value=!0}async function $(D){const{page:q,rowsPerPage:F,sortBy:H,descending:d}=D.pagination;D.filter,u.value=!0;const j=F===0?b.value.rowsNumber:F,se=(q-1)*F,ve=await P(se,j);console.log("returnedData",ve),v.value=ve.data.map(fe=>V({id:fe.id},fe.attributes)),b.value.rowsNumber=ve.meta.pagination.total,b.value.page=q,b.value.rowsPerPage=F,b.value.sortBy=H,b.value.descending=d,u.value=!1}async function _(D){const q=await a.put("/orders/"+s.value.id,{data:{status:s.value.status.data.id}});console.log("response",q),g.value=!1}async function R(){const{data:{data:D}}=await a.get("/statuses");o.value=D.map(q=>V({id:q.id},q.attributes)).map(q=>({label:q.name,value:q.id}))}return Lt(()=>{R(),$({pagination:b.value,filter:void 0})}),(D,q)=>(ft(),gt("div",null,[B(Ja,{"title-class":"text-h5",title:"Order Management",onRowClick:w,rows:v.value,columns:i,"row-key":"id",pagination:b.value,"onUpdate:pagination":q[0]||(q[0]=F=>b.value=F),loading:u.value,filter:C.value,onRequest:$,"binary-state-sort":""},null,8,["rows","pagination","loading","filter"]),B(cl,{modelValue:g.value,"onUpdate:modelValue":q[4]||(q[4]=F=>g.value=F)},{default:E(()=>[B(la,{view:"Lhh lpR fff",container:"",class:"bg-white"},{default:E(()=>[B(aa,{class:"bg-deep-orange-9"},{default:E(()=>[B(Gt,null,{default:E(()=>[B(Jt,null,{default:E(()=>[en,Re(" "+Ze(s.value.refNo),1)]),_:1})]),_:1})]),_:1}),B(Za,{class:"bg-deep-orange-9"},{default:E(()=>[B(Gt,null,{default:E(()=>[B(Jt,null,{default:E(()=>[B(Sl,{color:"deep-orange-9","bg-color":"white",filled:"",dense:"",modelValue:s.value.status.data.id,"onUpdate:modelValue":q[3]||(q[3]=F=>s.value.status.data.id=F),options:o.value,"option-value":"value","option-label":"label","emit-value":"","map-options":""},{before:E(()=>[tn]),hint:E(()=>[ln]),after:E(()=>[B(vt,{onClick:[q[1]||(q[1]=F=>_()),q[2]||(q[2]=Ul(()=>{},["stop"]))],round:"",dense:"",icon:"save",color:"deep-orange-9"})]),_:1},8,["modelValue","options"])]),_:1})]),_:1})]),_:1}),B(na,null,{default:E(()=>[B(oa,{padding:""},{default:E(()=>[B(dl,{bordered:"",padding:""},{default:E(()=>[B(ze,{header:""},{default:E(()=>[an]),_:1}),(ft(!0),gt(Kl,null,Wl(s.value.itemsQuantity,(F,H)=>(ft(),gt("div",{key:H},[B(mt,null,{default:E(()=>[B(qe,{avatar:""},{default:E(()=>[B(Xl,{rounded:""},{default:E(()=>[me("img",{src:Yl(a).defaults.baseURL.replace("/api","")+F.images[0].url},null,8,nn)]),_:2},1024)]),_:2},1024),B(qe,null,{default:E(()=>[B(ze,null,{default:E(()=>[Re(Ze(F.name),1)]),_:2},1024),B(ze,{caption:""},{default:E(()=>[Re(Ze(F.description),1)]),_:2},1024)]),_:2},1024),B(qe,{side:"",top:""},{default:E(()=>[B(ze,null,{default:E(()=>[Re(Ze(s.value.items.data.filter(d=>d.id===F.id)[0].attributes.price.toLocaleString("en-PH",{style:"currency",currency:"PHP"})),1)]),_:2},1024),B(ze,{caption:"",class:"q-gutter-sm row no-wrap items-center"},{default:E(()=>[me("div",on,[me("div",null,"Qty: "+Ze(F.quantity),1)])]),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},rn={class:"q-pa-md"},mn={setup(e){const l=Be(),{$global:a}=l.appContext.config.globalProperties,f=Jl();return Lt(async()=>{a.user||(console.log("111"),f.push("/"))}),(i,o)=>(ft(),gt("div",rn,[B(un),B(wa,{class:"q-mb-lg"})]))}};export{mn as default};
